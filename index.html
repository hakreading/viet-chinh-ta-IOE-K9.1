<!DOCTYPE html><html lang="vi"><head>    <meta charset="UTF-8">    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">    <title>Nghe v√† Vi·∫øt Ch√≠nh T·∫£: My First Sentences</title>    <link rel="preconnect" href="https://fonts.googleapis.com">    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700&display=swap" rel="stylesheet">    <style>        :root {            --primary-color: #ec407a; /* H·ªìng */            --primary-dark: #c2185b;            --success-color: #4caf50;            --error-color: #f44336;            --light-bg: #fce4ec;            --text-color: #333;            --white-color: #ffffff;
            --yellow-color: #ffc107;            /* M√†u cho c√°c n√∫t ch·ªß ƒë·ªÅ */
            --topic-color-1: #ef5350; /* ƒê·ªè nh·∫°t */
            --topic-color-2: #42a5f5; /* Xanh d∆∞∆°ng */
            --topic-color-3: #66bb6a; /* Xanh l√° */
            --topic-color-4: #ffa726; /* Cam */
            --topic-color-5: #ab47bc; /* T√≠m */
        }        body {
            font-family: 'Nunito', sans-serif;
            background: linear-gradient(120deg, #f8bbd0 0%, #ce93d3 100%);
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            color: var(--text-color);
            overscroll-behavior: none;
            -webkit-tap-highlight-color: transparent;
        }        .container {
            text-align: center;
            padding: 25px;
            max-width: 900px;
            width: 95%;
            background: var(--white-color);
            border-radius: 24px;
            box-shadow: 0 10px 35px rgba(0, 0, 0, 0.1), 0 4px 15px rgba(0, 0, 0, 0.05);
            box-sizing: border-box;
        }        .game-title {
            font-size: clamp(1.8em, 5vw, 2.5em);
            color: var(--primary-color);
            margin: 0 0 5px;
            font-weight: 700;
        }        .game-subtitle {
            font-size: clamp(1.2em, 4vw, 1.5em);
            margin-bottom: 20px;
            color: #555;
            font-weight: 600;
        }        .meaning {
            font-size: clamp(1.1em, 4.5vw, 1.6em);
            color: var(--primary-dark);
            margin: 15px 0;
            font-style: italic;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }        .input-container {
            position: relative;
            margin: 30px 0;
        }        #answerInput {
            width: 100%;
            padding: 15px 20px;
            font-size: clamp(1.1em, 4vw, 1.6em);
            font-family: 'Nunito', sans-serif;
            border-radius: 12px;
            border: 3px solid var(--primary-color);
            box-sizing: border-box;
            text-align: center;
            transition: all 0.3s ease;
        }        #answerInput:focus {
            outline: none;
            box-shadow: 0 0 0 4px rgba(236, 64, 122, 0.3);
        }        #answerInput.correct {
            border-color: var(--success-color);
            background-color: #e8f5e9;
        }        #answerInput.incorrect {
            border-color: var(--error-color);
            animation: shake 0.5s;
        }        #hint {
            display: none;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(0, 0, 0, 0.8);
            color: white;
            padding: 15px 25px;
            border-radius: 12px;
            font-size: clamp(1.1em, 4vw, 1.6em);
            font-weight: 600;
            pointer-events: none;
            z-index: 10;
            width: max-content;
            max-width: 90%;
        }        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-8px); }
            75% { transform: translateX(8px); }
        }        .buttons {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 15px;
            margin: 20px 0;
        }        button {
            background: var(--primary-color);
            color: var(--white-color);
            border: none;
            padding: 12px 28px;
            border-radius: 12px;
            font-size: clamp(0.9em, 3.5vw, 1.1em);
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            touch-action: manipulation;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }        button:hover, button:focus {
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.2);
            outline: none;
        }        button#resetBtn { background-color: #757575; }        button#resetBtn:hover { background-color: #616161; }        button#checkBtn { background-color: var(--success-color); }        button#checkBtn:hover { background: #388e3c; }        button#hintBtn { background-color: var(--yellow-color); color: var(--text-color); }        button#hintBtn:hover { background-color: #ffb300; }        button:disabled {
            background: #bdbdbd;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }        .score {
            font-size: clamp(1.1em, 4vw, 1.4em);
            margin-top: 20px;
            font-weight: 600;
            color: var(--primary-dark);
        }        .message {
            font-size: clamp(1.1em, 4vw, 1.4em);
            color: var(--error-color);
            margin: 15px 0;
            font-weight: 700;
            min-height: 25px;
        }        canvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1000;
        }        .start-screen, .topic-selection-screen, .topic-congrats-screen {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 15px;
        }        #startBtn, .topic-btn, .congrats-btn {
            padding: 15px 40px;
            font-size: 1.2em;
            border-radius: 16px;
            width: 90%;
            max-width: 450px;
        }        #startBtn { background-color: var(--success-color); }        #startBtn:hover { background: #388e3c; }        .topic-btn-color-1 { background-color: var(--topic-color-1); }        .topic-btn-color-1:hover { background-color: #d32f2f; }        .topic-btn-color-2 { background-color: var(--topic-color-2); }        .topic-btn-color-2:hover { background-color: #1976d2; }        .topic-btn-color-3 { background-color: var(--topic-color-3); }        .topic-btn-color-3:hover { background-color: #388e3c; }        .topic-btn-color-4 { background-color: var(--topic-color-4); }        .topic-btn-color-4:hover { background-color: #f57c00; }        .topic-btn-color-5 { background-color: var(--topic-color-5); }        .topic-btn-color-5:hover { background-color: #8e24aa; }        #playerNameInput {
            font-family: 'Nunito', sans-serif;
            font-size: 1.2em;
            padding: 10px 15px;
            border-radius: 12px;
            border: 2px solid var(--primary-color);
            text-align: center;
            width: 80%;
            max-width: 300px;
        }        #playerNameInput:focus {
            outline: none;
            box-shadow: 0 0 0 3px rgba(236, 64, 122, 0.3);
        }        @media (max-width: 600px) {
            .container { padding: 15px; }
            button { padding: 10px 20px; }
        }    </style></head><body>    <canvas id="fireworks"></canvas>    <div class="container">        <div class="game-title">NGHE V√Ä VI·∫æT CH√çNH T·∫¢</div>        <div class="game-subtitle" id="gameSubtitle">(Dictation Practice)</div>                <div class="start-screen" id="startScreen">            <input type="text" id="playerNameInput" placeholder="Nh·∫≠p t√™n c·ªßa b·∫°n...">            <button id="startBtn">B·∫Øt ƒë·∫ßu</button>        </div>
        <div class="topic-selection-screen" id="topicSelectionScreen" style="display: none;">            <!-- Topic buttons will be generated here -->        </div>
        <div class="game-screen" id="gameScreen" style="display: none;">            <div class="meaning" id="meaning"></div>            <div class="input-container">                <input type="text" id="answerInput" placeholder="Nh·∫≠p c√¢u b·∫°n nghe ƒë∆∞·ª£c..." autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false">                <div id="hint"></div>            </div>            <div class="message" id="message"></div>            <div class="buttons">                <button id="listenAgainBtn">Nghe l·∫°i</button>                <button id="checkBtn">Ki·ªÉm tra</button>                <button id="hintBtn">G·ª£i √Ω</button>                <button id="resetBtn">Ch·ªß ƒë·ªÅ kh√°c</button>            </div>            <div class="score" id="score"></div>        </div>
        <div class="topic-congrats-screen" id="topicCongratsScreen" style="display: none;">            <div class="message" id="congratsMessage" style="color: var(--success-color); font-size: 1.5em;"></div>            <button class="congrats-btn" id="playTopicAgainBtn">Ch∆°i l·∫°i ch·ªß ƒë·ªÅ n√†y</button>            <button class="congrats-btn" id="chooseAnotherTopicBtn">Ch·ªçn ch·ªß ƒë·ªÅ kh√°c</button>        </div>    </div>
    <script>    const topics = {        "B√†i T·∫≠p IOE K9": [
            { en: "I saw her walk in the park with her dog.", vi: "T√¥i th·∫•y c√¥ ·∫•y ƒëi d·∫°o trong c√¥ng vi√™n v·ªõi con ch√≥ c·ªßa m√¨nh.", emoji: "üêï" },
            { en: "If I hadn't stayed up late last night, I wouldn't be tired now.", vi: "N·∫øu t·ªëi qua t√¥i kh√¥ng th·ª©c khuya, b√¢y gi·ªù t√¥i ƒë√£ kh√¥ng m·ªát.", emoji: "üò¥" },
            { en: "Many people think there might be a lot of precious stones on Mars.", vi: "Nhi·ªÅu ng∆∞·ªùi nghƒ© r·∫±ng c√≥ th·ªÉ c√≥ r·∫•t nhi·ªÅu ƒë√° qu√Ω tr√™n Sao H·ªèa.", emoji: "üíé" },
            { en: "That woman over there who is talking with your father is a singer.", vi: "Ng∆∞·ªùi ph·ª• n·ªØ ƒë·∫±ng kia ƒëang n√≥i chuy·ªán v·ªõi b·ªë b·∫°n l√† m·ªôt ca sƒ©.", emoji: "üé§" },
            { en: "Numerous surveys have been given out, but no one collected them.", vi: "Nhi·ªÅu cu·ªôc kh·∫£o s√°t ƒë√£ ƒë∆∞·ª£c ph√°t ra, nh∆∞ng kh√¥ng ai thu th·∫≠p ch√∫ng.", emoji: "üìù" },
            { en: "He doesn't help me, possibly because I never ask him for help.", vi: "Anh ·∫•y kh√¥ng gi√∫p t√¥i, c√≥ l·∫Ω v√¨ t√¥i kh√¥ng bao gi·ªù nh·ªù anh ·∫•y gi√∫p ƒë·ª°.", emoji: "ü§î" },
            { en: "It's no use asking children to keep quiet. They are always noisy.", vi: "Kh√¥ng √≠ch g√¨ khi b·∫£o tr·∫ª con gi·ªØ im l·∫∑ng. Ch√∫ng lu√¥n ·ªìn √†o.", emoji: "ü§´" },
            { en: "Tet holiday is the traditional holiday of Vietnam to celebrate the Lunar New Year.", vi: "T·∫øt l√† ng√†y l·ªÖ truy·ªÅn th·ªëng c·ªßa Vi·ªát Nam ƒë·ªÉ ch√†o m·ª´ng T·∫øt Nguy√™n ƒê√°n.", emoji: "üßß" },
            { en: "A shaman was a man or woman who sang songs, danced and did magic spells to make people well.", vi: "M·ªôt ph√°p s∆∞ l√† m·ªôt ng∆∞·ªùi ƒë√†n √¥ng ho·∫∑c ph·ª• n·ªØ h√°t, nh·∫£y m√∫a v√† l√†m ph√©p thu·∫≠t ƒë·ªÉ ch·ªØa b·ªánh cho m·ªçi ng∆∞·ªùi.", emoji: "üßô" },
            { en: "Arriving at the party, we saw Ruth standing alone.", vi: "ƒê·∫øn b·ªØa ti·ªác, ch√∫ng t√¥i th·∫•y Ruth ƒë·ª©ng m·ªôt m√¨nh.", emoji: "üö∂" },
            { en: "She repeated the instructions slowly in order that he should understand.", vi: "C√¥ ·∫•y l·∫∑p l·∫°i h∆∞·ªõng d·∫´n ch·∫≠m r√£i ƒë·ªÉ anh ·∫•y hi·ªÉu.", emoji: "üó£Ô∏è" },
            { en: "Nobody saw Tom go out, did they?", vi: "Kh√¥ng ai th·∫•y Tom ƒëi ra ngo√†i, ph·∫£i kh√¥ng?", emoji: "‚ùì" },
            { en: "I hope that he will get well soon.", vi: "T√¥i hy v·ªçng r·∫±ng anh ·∫•y s·∫Ω s·ªõm kh·ªèe l·∫°i.", emoji: "üôè" },
            { en: "Although he did not admit it, we know that he broke the vase.", vi: "M·∫∑c d√π anh ·∫•y kh√¥ng th·ª´a nh·∫≠n, ch√∫ng t√¥i bi·∫øt r·∫±ng anh ·∫•y ƒë√£ l√†m v·ª° chi·∫øc b√¨nh.", emoji: "üè∫" },
            { en: "There is a comedy program on between 10:15 and 11:00.", vi: "C√≥ m·ªôt ch∆∞∆°ng tr√¨nh h√†i k·ªãch t·ª´ 10:15 ƒë·∫øn 11:00.", emoji: "üì∫" },
            { en: "The actress, together with her manager and some friends, is going to a party tonight.", vi: "N·ªØ di·ªÖn vi√™n, c√πng v·ªõi qu·∫£n l√Ω v√† m·ªôt s·ªë b·∫°n b√®, s·∫Ω ƒëi d·ª± ti·ªác t·ªëi nay.", emoji: "üíÉ" },
            { en: "My purse has just turned up behind the sofa even though I thought I'd lost it for good.", vi: "V√≠ c·ªßa t√¥i v·ª´a xu·∫•t hi·ªán ph√≠a sau gh·∫ø sofa m·∫∑c d√π t√¥i nghƒ© r·∫±ng t√¥i ƒë√£ m·∫•t n√≥ vƒ©nh vi·ªÖn.", emoji: "üëõ" },
            { en: "April 1st is the day when people try to trick their friends to make them behave like fools.", vi: "Ng√†y 1 th√°ng 4 l√† ng√†y m·ªçi ng∆∞·ªùi c·ªë g·∫Øng l·ª´a b·∫°n b√® ƒë·ªÉ h·ªç h√†nh ƒë·ªông nh∆∞ nh·ªØng k·∫ª ng·ªëc.", emoji: "ü§°" },
            { en: "Do you like your new job? - Yes, but my employer insisted that I be on time.", vi: "B·∫°n c√≥ th√≠ch c√¥ng vi·ªác m·ªõi c·ªßa m√¨nh kh√¥ng? - C√≥, nh∆∞ng √¥ng ch·ªß c·ªßa t√¥i ƒë√£ khƒÉng khƒÉng r·∫±ng t√¥i ph·∫£i ƒë√∫ng gi·ªù.", emoji: "‚è∞" },
            { en: "The natural program shown on TV last night was about wildlife around Ba Be Lake.", vi: "Ch∆∞∆°ng tr√¨nh t·ª± nhi√™n ƒë∆∞·ª£c chi·∫øu tr√™n TV t·ªëi qua l√† v·ªÅ ƒë·ªông v·∫≠t hoang d√£ quanh H·ªì Ba B·ªÉ.", emoji: "üèûÔ∏è" },
            { en: "The Statue of Liberty, standing on an island in the harbor, welcomes everyone who comes to New York by sea.", vi: "T∆∞·ª£ng N·ªØ th·∫ßn T·ª± do, ƒë·ª©ng tr√™n m·ªôt h√≤n ƒë·∫£o trong b·∫øn c·∫£ng, ch√†o ƒë√≥n t·∫•t c·∫£ nh·ªØng ng∆∞·ªùi ƒë·∫øn New York b·∫±ng ƒë∆∞·ªùng bi·ªÉn.", emoji: "üóΩ" },
            { en: "We haven't got any match, so I can't light a fire.", vi: "Ch√∫ng t√¥i kh√¥ng c√≥ di√™m, v√¨ v·∫≠y t√¥i kh√¥ng th·ªÉ ƒë·ªët l·ª≠a.", emoji: "üî•" },
            { en: "When visiting Vietnam, tourists are very impressed with the hospitality of Vietnamese people.", vi: "Khi ƒë·∫øn thƒÉm Vi·ªát Nam, du kh√°ch r·∫•t ·∫•n t∆∞·ª£ng v·ªõi l√≤ng hi·∫øu kh√°ch c·ªßa ng∆∞·ªùi Vi·ªát Nam.", emoji: "üáªüá≥" },
            { en: "If they go to the mountains next week, they will be able to ski.", vi: "N·∫øu h·ªç ƒëi ƒë·∫øn n√∫i v√†o tu·∫ßn t·ªõi, h·ªç s·∫Ω c√≥ th·ªÉ tr∆∞·ª£t tuy·∫øt.", emoji: "‚õ∑Ô∏è" },
            { en: "Let her have some drink, will you?", vi: "H√£y ƒë·ªÉ c√¥ ·∫•y u·ªëng m·ªôt ch√∫t, ƒë∆∞·ª£c kh√¥ng?", emoji: "ü•§" },
            { en: "They made their living by catching fish in the ocean everyday.", vi: "H·ªç ki·∫øm s·ªëng b·∫±ng c√°ch ƒë√°nh b·∫Øt c√° ngo√†i ƒë·∫°i d∆∞∆°ng m·ªói ng√†y.", emoji: "üé£" },
            { en: "Everyone contributed to the football team's success.", vi: "M·ªçi ng∆∞·ªùi ƒë√£ ƒë√≥ng g√≥p v√†o th√†nh c√¥ng c·ªßa ƒë·ªôi b√≥ng ƒë√°.", emoji: "‚öΩ" },
            { en: "Don't be afraid to admit your mistakes.", vi: "ƒê·ª´ng ng·∫°i th·ª´a nh·∫≠n l·ªói l·∫ßm c·ªßa b·∫°n.", emoji: "üëç" },
            { en: "Tom has more books than his father.", vi: "Tom c√≥ nhi·ªÅu s√°ch h∆°n b·ªë c·∫≠u ·∫•y.", emoji: "üìö" },
            { en: "We use a hoe to break up the soil and plant the seeds.", vi: "Ch√∫ng t√¥i s·ª≠ d·ª•ng m·ªôt c√°i cu·ªëc ƒë·ªÉ x·ªõi ƒë·∫•t v√† gieo h·∫°t.", emoji: "üßë‚Äçüåæ" },
            { en: "The colour red is commonly considered a sign of danger.", vi: "M√†u ƒë·ªè th∆∞·ªùng ƒë∆∞·ª£c coi l√† d·∫•u hi·ªáu c·ªßa nguy hi·ªÉm.", emoji: "üî¥" },
            { en: "We admire the talent and dedication of the young athletes, but we also wonder if they're losing something.", vi: "Ch√∫ng t√¥i ng∆∞·ª°ng m·ªô t√†i nƒÉng v√† s·ª± c·ªëng hi·∫øn c·ªßa c√°c v·∫≠n ƒë·ªông vi√™n tr·∫ª, nh∆∞ng ch√∫ng t√¥i c≈©ng t·ª± h·ªèi li·ªáu h·ªç c√≥ ƒëang m·∫•t ƒëi ƒëi·ªÅu g√¨ kh√¥ng.", emoji: "üèÖ" },
            { en: "Why is Jane upset? - She's disappointed because her son's low test scores prevented him from being admitted to the university.", vi: "T·∫°i sao Jane bu·ªìn? - C√¥ ·∫•y th·∫•t v·ªçng v√¨ ƒëi·ªÉm thi th·∫•p c·ªßa con trai c√¥ ·∫•y ƒë√£ ngƒÉn c·∫£n c·∫≠u ·∫•y ƒë∆∞·ª£c nh·∫≠n v√†o ƒë·∫°i h·ªçc.", emoji: "üò¢" },
            { en: "The eruption of the volcano was a terrible disaster.", vi: "S·ª± phun tr√†o c·ªßa n√∫i l·ª≠a l√† m·ªôt th·∫£m h·ªça kh·ªßng khi·∫øp.", emoji: "üåã" },
            { en: "Many people are interested in the products that save energy.", vi: "Nhi·ªÅu ng∆∞·ªùi quan t√¢m ƒë·∫øn c√°c s·∫£n ph·∫©m ti·∫øt ki·ªám nƒÉng l∆∞·ª£ng.", emoji: "‚ö°" },
            { en: "The potential of finding new sources of renewable energy is great.", vi: "Ti·ªÅm nƒÉng t√¨m ki·∫øm c√°c ngu·ªìn nƒÉng l∆∞·ª£ng t√°i t·∫°o m·ªõi l√† r·∫•t l·ªõn.", emoji: "üí°" },
            { en: "Turn that music down! It's so loud. It'll deafen you.", vi: "V·∫∑n nh·ªè nh·∫°c ƒëi! N√≥ qu√° to. N√≥ s·∫Ω l√†m b·∫°n ƒëi·∫øc tai.", emoji: "üîä" },
            { en: "Instead of buying a new car, she'll have her old one repaired.", vi: "Thay v√¨ mua m·ªôt chi·∫øc √¥ t√¥ m·ªõi, c√¥ ·∫•y s·∫Ω cho s·ª≠a chi·∫øc c≈©.", emoji: "üîß" },
            { en: "Acid rain, industrial pollution and garbage have made many sources of water undrinkable.", vi: "M∆∞a axit, √¥ nhi·ªÖm c√¥ng nghi·ªáp v√† r√°c th·∫£i ƒë√£ l√†m cho nhi·ªÅu ngu·ªìn n∆∞·ªõc kh√¥ng th·ªÉ u·ªëng ƒë∆∞·ª£c.", emoji: "üíß" },
            { en: "One of the smallest countries in the world is San Marino, a republic high in the mountains of Italy.", vi: "M·ªôt trong nh·ªØng qu·ªëc gia nh·ªè nh·∫•t tr√™n th·∫ø gi·ªõi l√† San Marino, m·ªôt n∆∞·ªõc c·ªông h√≤a tr√™n n√∫i cao ·ªü √ù.", emoji: "üáÆüáπ" },
            { en: "The subject of their photos is the sorrow of being disabled.", vi: "Ch·ªß ƒë·ªÅ c·ªßa nh·ªØng b·ª©c ·∫£nh c·ªßa h·ªç l√† n·ªói bu·ªìn c·ªßa ng∆∞·ªùi khuy·∫øt t·∫≠t.", emoji: "üì∏" },
            { en: "She often plays the music that was composed by Chopin.", vi: "C√¥ ·∫•y th∆∞·ªùng ch∆°i b·∫£n nh·∫°c ƒë∆∞·ª£c s√°ng t√°c b·ªüi Chopin.", emoji: "üéπ" },
            { en: "The writer's neighbors sometimes ask him and his wife to come to tea.", vi: "H√†ng x√≥m c·ªßa nh√† vƒÉn th·ªânh tho·∫£ng m·ªùi anh ·∫•y v√† v·ª£ ƒë·∫øn u·ªëng tr√†.", emoji: "‚òï" },
            { en: "Because of the cold weather, we couldn't visit our grandmother.", vi: "V√¨ th·ªùi ti·∫øt l·∫°nh, ch√∫ng t√¥i kh√¥ng th·ªÉ ƒë·∫øn thƒÉm b√† c·ªßa ch√∫ng t√¥i.", emoji: "üëµ" },
            { en: "Yoko told me about students that have taken the entrance exam 13 times.", vi: "Yoko k·ªÉ v·ªõi t√¥i v·ªÅ nh·ªØng h·ªçc sinh ƒë√£ thi ƒë·∫°i h·ªçc 13 l·∫ßn.", emoji: "üìù" },
            { en: "Christine doesn't ride a motorbike to work, and neither does Maggie.", vi: "Christine kh√¥ng ƒëi xe m√°y ƒëi l√†m, v√† Maggie c≈©ng v·∫≠y.", emoji: "üèçÔ∏è" },
            { en: "The power of wind has been used for centuries to directly drive various machines to perform such tasks as grinding wheat or pumping water.", vi: "NƒÉng l∆∞·ª£ng gi√≥ ƒë√£ ƒë∆∞·ª£c s·ª≠ d·ª•ng qua nhi·ªÅu th·∫ø k·ª∑ ƒë·ªÉ tr·ª±c ti·∫øp v·∫≠n h√†nh c√°c lo·∫°i m√°y m√≥c kh√°c nhau th·ª±c hi·ªán c√°c c√¥ng vi·ªác nh∆∞ xay l√∫a m√¨ ho·∫∑c b∆°m n∆∞·ªõc.", emoji: "üå¨Ô∏è" },
            { en: "I have to call the man whose raincoat I accidentally picked up after the meeting.", vi: "T√¥i ph·∫£i g·ªçi cho ng∆∞·ªùi ƒë√†n √¥ng m√† t√¥i ƒë√£ v√¥ t√¨nh nh·∫∑t chi·∫øc √°o m∆∞a c·ªßa anh ·∫•y sau cu·ªôc h·ªçp.", emoji: "üìû" },
            { en: "The United Kingdom located in Western Europe is made up of England, Scotland, Wales and Northern Ireland.", vi: "V∆∞∆°ng qu·ªëc Anh n·∫±m ·ªü T√¢y √Çu bao g·ªìm Anh, Scotland, Wales v√† B·∫Øc Ireland.", emoji: "üá¨üáß" },
            { en: "I will never forget meeting him on a rainy day.", vi: "T√¥i s·∫Ω kh√¥ng bao gi·ªù qu√™n vi·ªác g·∫∑p anh ·∫•y v√†o m·ªôt ng√†y m∆∞a.", emoji: "üåßÔ∏è" },
            { en: "You can read a chapter of a book, or just a few pages, and then stop.", vi: "B·∫°n c√≥ th·ªÉ ƒë·ªçc m·ªôt ch∆∞∆°ng s√°ch, ho·∫∑c ch·ªâ v√†i trang, r·ªìi d·ª´ng l·∫°i.", emoji: "üìñ" },
            { en: "I am used to the hot weather in the south.", vi: "T√¥i ƒë√£ quen v·ªõi th·ªùi ti·∫øt n√≥ng ·ªü mi·ªÅn Nam.", emoji: "ü•µ" },
            { en: "Last month, my uncle went to Hai Phong, where he is working.", vi: "Th√°ng tr∆∞·ªõc, ch√∫ (c·∫≠u) t√¥i ƒë√£ ƒë·∫øn H·∫£i Ph√≤ng, n∆°i ch√∫ ·∫•y ƒëang l√†m vi·ªác.", emoji: "üáªüá≥" },
            { en: "The more we learn, the better we understand the world.", vi: "Ch√∫ng ta c√†ng h·ªçc nhi·ªÅu, ch√∫ng ta c√†ng hi·ªÉu r√µ h∆°n v·ªÅ th·∫ø gi·ªõi.", emoji: "üß†" },
            { en: "Tom and Mary never came to class late. Neither did we.", vi: "Tom v√† Mary kh√¥ng bao gi·ªù ƒë·∫øn l·ªõp mu·ªôn. Ch√∫ng t√¥i c≈©ng v·∫≠y.", emoji: "‚ùå" },
            { en: "The little boy is helping the blind cross the street.", vi: "C·∫≠u b√© ƒëang gi√∫p ng∆∞·ªùi m√π bƒÉng qua ƒë∆∞·ªùng.", emoji: "üë¶" },
            { en: "The authorities were either unaware of the problem or turned a blind eye to it.", vi: "C√°c nh√† ch·ª©c tr√°ch ho·∫∑c l√† kh√¥ng nh·∫≠n th·ª©c ƒë∆∞·ª£c v·∫•n ƒë·ªÅ ho·∫∑c l√† ƒë√£ nh·∫Øm m·∫Øt l√†m ng∆°.", emoji: "üèõÔ∏è" },
            { en: "She began to play tennis three years ago.", vi: "C√¥ ·∫•y b·∫Øt ƒë·∫ßu ch∆°i qu·∫ßn v·ª£t ba nƒÉm tr∆∞·ªõc.", emoji: "üéæ" },
            { en: "We use money not only to meet the basic needs of life but also to pay for our own advancement.", vi: "Ch√∫ng ta s·ª≠ d·ª•ng ti·ªÅn kh√¥ng ch·ªâ ƒë·ªÉ ƒë√°p ·ª©ng c√°c nhu c·∫ßu c∆° b·∫£n c·ªßa cu·ªôc s·ªëng m√† c√≤n ƒë·ªÉ chi tr·∫£ cho s·ª± ti·∫øn b·ªô c·ªßa ch√≠nh m√¨nh.", emoji: "üí∏" },
            { en: "In 1971, two men said that they were captured by aliens and taken abroad a spacecraft.", vi: "NƒÉm 1971, hai ng∆∞·ªùi ƒë√†n √¥ng n√≥i r·∫±ng h·ªç b·ªã ng∆∞·ªùi ngo√†i h√†nh tinh b·∫Øt v√† ƒë∆∞a l√™n t√†u v≈© tr·ª•.", emoji: "üëΩ" },
            { en: "John is working in a factory. His job is to repair broken machines.", vi: "John ƒëang l√†m vi·ªác trong m·ªôt nh√† m√°y. C√¥ng vi·ªác c·ªßa anh ·∫•y l√† s·ª≠a ch·ªØa m√°y m√≥c b·ªã h·ªèng.", emoji: "üõ†Ô∏è" },
            { en: "During the war, he was imprisoned as an enemy alien.", vi: "Trong chi·∫øn tranh, anh ·∫•y b·ªã giam gi·ªØ nh∆∞ m·ªôt ng∆∞·ªùi n∆∞·ªõc ngo√†i th√π ƒë·ªãch.", emoji: "‚õìÔ∏è" },
            { en: "While you are laying the table, I will go and check the faucet.", vi: "Trong khi b·∫°n ƒëang d·ªçn b√†n, t√¥i s·∫Ω ƒëi ki·ªÉm tra v√≤i n∆∞·ªõc.", emoji: "üçΩÔ∏è" },
            { en: "I wrote the date on the board in order to be sure to remember my appointment.", vi: "T√¥i ƒë√£ vi·∫øt ng√†y tr√™n b·∫£ng ƒë·ªÉ ch·∫Øc ch·∫Øn nh·ªõ cu·ªôc h·∫πn c·ªßa m√¨nh.", emoji: "üìÖ" },
            { en: "It would be possible for me to finish the work by this weekend.", vi: "T√¥i c√≥ th·ªÉ ho√†n th√†nh c√¥ng vi·ªác tr∆∞·ªõc cu·ªëi tu·∫ßn n√†y.", emoji: "‚úÖ" },
            { en: "You should keep an eye on the road as you are driving.", vi: "B·∫°n n√™n ƒë·ªÉ m·∫Øt ƒë·∫øn ƒë∆∞·ªùng khi ƒëang l√°i xe.", emoji: "üëÄ" },
            { en: "Petrol is relatively cheap in the US and outside the major cities public transport is bad, so they see no reason to use their cars less.", vi: "XƒÉng d·∫ßu t∆∞∆°ng ƒë·ªëi r·∫ª ·ªü M·ªπ v√† giao th√¥ng c√¥ng c·ªông k√©m ·ªü ngo·∫°i √¥ c√°c th√†nh ph·ªë l·ªõn, v√¨ v·∫≠y h·ªç th·∫•y kh√¥ng c√≥ l√Ω do g√¨ ƒë·ªÉ √≠t s·ª≠ d·ª•ng √¥ t√¥ h∆°n.", emoji: "‚õΩ" },
            { en: "It was not until after midnight that the noise next door stopped.", vi: "M√£i ƒë·∫øn sau n·ª≠a ƒë√™m, ti·∫øng ·ªìn b√™n c·∫°nh m·ªõi d·ª´ng l·∫°i.", emoji: "üåÉ" },
            { en: "In a report submitted to the government yesterday, scientists recommended that the building of the bridge be stopped.", vi: "Trong m·ªôt b√°o c√°o ƒë·ªá tr√¨nh l√™n ch√≠nh ph·ªß h√¥m qua, c√°c nh√† khoa h·ªçc ƒë√£ khuy·∫øn ngh·ªã r·∫±ng vi·ªác x√¢y d·ª±ng c√¢y c·∫ßu n√™n ƒë∆∞·ª£c d·ª´ng l·∫°i.", emoji: "üåâ" },
            { en: "He's a nature enthusiast and he will certainly jump at the opportunity of visiting the wildlife reserve in Ohio.", vi: "Anh ·∫•y l√† m·ªôt ng∆∞·ªùi ƒëam m√™ thi√™n nhi√™n v√† ch·∫Øc ch·∫Øn s·∫Ω n·∫Øm l·∫•y c∆° h·ªôi ƒë·∫øn thƒÉm khu b·∫£o t·ªìn ƒë·ªông v·∫≠t hoang d√£ ·ªü Ohio.", emoji: "üå≥" },
            { en: "It's becoming more and more difficult to find a job in this town.", vi: "Ng√†y c√†ng kh√≥ t√¨m ƒë∆∞·ª£c vi·ªác l√†m ·ªü th·ªã tr·∫•n n√†y.", emoji: "üòü" },
            { en: "She is fond of her nephew in spite of his terrible behavior.", vi: "C√¥ ·∫•y y√™u qu√Ω ch√°u trai m√¨nh m·∫∑c d√π h√†nh vi t·ªìi t·ªá c·ªßa c·∫≠u ·∫•y.", emoji: "ü•∞" },
            { en: "No one is to leave this building without police permission.", vi: "Kh√¥ng ai ƒë∆∞·ª£c ph√©p r·ªùi kh·ªèi t√≤a nh√† n√†y m√† kh√¥ng c√≥ s·ª± cho ph√©p c·ªßa c·∫£nh s√°t.", emoji: "üö´" },
            { en: "If you want to learn about the events that are happening all over the world, you can watch a documentary film.", vi: "N·∫øu b·∫°n mu·ªën t√¨m hi·ªÉu v·ªÅ c√°c s·ª± ki·ªán ƒëang di·ªÖn ra tr√™n kh·∫Øp th·∫ø gi·ªõi, b·∫°n c√≥ th·ªÉ xem m·ªôt b·ªô phim t√†i li·ªáu.", emoji: "üé¨" },
            { en: "She said that she had worked there for one year.", vi: "C√¥ ·∫•y n√≥i r·∫±ng c√¥ ·∫•y ƒë√£ l√†m vi·ªác ·ªü ƒë√≥ ƒë∆∞·ª£c m·ªôt nƒÉm.", emoji: "üóìÔ∏è" },
            { en: "Apart from the one small river running through it, the desert is entirely arid.", vi: "Ngo·∫°i tr·ª´ m·ªôt con s√¥ng nh·ªè ch·∫£y qua, sa m·∫°c ho√†n to√†n kh√¥ c·∫±n.", emoji: "üèúÔ∏è" },
            { en: "He was well aware of the problem.", vi: "Anh ·∫•y ƒë√£ nh·∫≠n th·ª©c r√µ v·ªÅ v·∫•n ƒë·ªÅ n√†y.", emoji: "üí°" },
            { en: "A gesture is an action that sends a message from one person to another without using words.", vi: "C·ª≠ ch·ªâ l√† m·ªôt h√†nh ƒë·ªông g·ª≠i th√¥ng ƒëi·ªáp t·ª´ ng∆∞·ªùi n√†y sang ng∆∞·ªùi kh√°c m√† kh√¥ng d√πng l·ªùi n√≥i.", emoji: "‚úã" },
            { en: "Every year, Vietnam suffers most from floods and storms in the Middle.", vi: "M·ªói nƒÉm, Vi·ªát Nam ch·ªãu ·∫£nh h∆∞·ªüng n·∫∑ng n·ªÅ nh·∫•t t·ª´ l≈© l·ª•t v√† b√£o ·ªü mi·ªÅn Trung.", emoji: "‚õàÔ∏è" },
            { en: "Not mentioning the author's name was a serious omission.", vi: "Kh√¥ng ƒë·ªÅ c·∫≠p ƒë·∫øn t√™n t√°c gi·∫£ l√† m·ªôt thi·∫øu s√≥t nghi√™m tr·ªçng.", emoji: "‚ùå" },
            { en: "Toshiko had her car repaired by a mechanic.", vi: "Toshiko ƒë√£ nh·ªù th·ª£ m√°y s·ª≠a xe c·ªßa m√¨nh.", emoji: "üîß" },
            { en: "Many popular expressions in our language have interesting background.", vi: "Nhi·ªÅu th√†nh ng·ªØ ph·ªï bi·∫øn trong ng√¥n ng·ªØ c·ªßa ch√∫ng ta c√≥ ngu·ªìn g·ªëc th√∫ v·ªã.", emoji: "üí¨" },
            { en: "You cannot see the doctor unless you have made an appointment with him.", vi: "B·∫°n kh√¥ng th·ªÉ g·∫∑p b√°c sƒ© tr·ª´ khi b·∫°n ƒë√£ ƒë·∫∑t l·ªãch h·∫πn v·ªõi √¥ng ·∫•y.", emoji: "È¢ÑÁ∫¶" },
            { en: "According to the United Nations, the COVID-19 pandemic is a global health crisis that calls for solidarity and a unified response.", vi: "Theo Li√™n H·ª£p Qu·ªëc, ƒë·∫°i d·ªãch COVID-19 l√† m·ªôt cu·ªôc kh·ªßng ho·∫£ng s·ª©c kh·ªèe to√†n c·∫ßu ƒë√≤i h·ªèi s·ª± ƒëo√†n k·∫øt v√† ph·∫£n ·ª©ng th·ªëng nh·∫•t.", emoji: "üåê" },
            { en: "The chemistry book I bought was a little expensive.", vi: "Cu·ªën s√°ch h√≥a h·ªçc t√¥i mua h∆°i ƒë·∫Øt.", emoji: "üß™" },
            { en: "Language, the way we express ourselves, is a vital part of learning.", vi: "Ng√¥n ng·ªØ, c√°ch ch√∫ng ta th·ªÉ hi·ªán b·∫£n th√¢n, l√† m·ªôt ph·∫ßn quan tr·ªçng c·ªßa vi·ªác h·ªçc.", emoji: "üó£Ô∏è" },
            { en: "The government estimated drought and salinity would affect 362,000 hectares of rice in 2020.", vi: "Ch√≠nh ph·ªß ∆∞·ªõc t√≠nh h·∫°n h√°n v√† x√¢m nh·∫≠p m·∫∑n s·∫Ω ·∫£nh h∆∞·ªüng ƒë·∫øn 362.000 ha l√∫a v√†o nƒÉm 2020.", emoji: "üåæ" },
            { en: "Children receive chocolate and eggs at Easter.", vi: "Tr·∫ª em nh·∫≠n ƒë∆∞·ª£c s√¥ c√¥ la v√† tr·ª©ng v√†o l·ªÖ Ph·ª•c sinh.", emoji: "üç´" },
            { en: "Some countries need the money from tourism to help their people survive.", vi: "M·ªôt s·ªë qu·ªëc gia c·∫ßn ti·ªÅn t·ª´ du l·ªãch ƒë·ªÉ gi√∫p ng∆∞·ªùi d√¢n c·ªßa h·ªç t·ªìn t·∫°i.", emoji: "‚úàÔ∏è" },
            { en: "How many days per week do you go to school?", vi: "B·∫°n ƒëi h·ªçc bao nhi√™u ng√†y m·ªói tu·∫ßn?", emoji: "‚ùì" },
            { en: "How long does it take for Earth to rotate on its axis? - 24 hours.", vi: "Tr√°i ƒë·∫•t m·∫•t bao l√¢u ƒë·ªÉ quay quanh tr·ª•c c·ªßa n√≥? - 24 gi·ªù.", emoji: "üåç" },
            { en: "The unemployment rate in the USA fell to 13.3 percent in May, 2020.", vi: "T·ª∑ l·ªá th·∫•t nghi·ªáp ·ªü M·ªπ gi·∫£m xu·ªëng 13,3 ph·∫ßn trƒÉm v√†o th√°ng 5 nƒÉm 2020.", emoji: "üìâ" },
            { en: "Many kinds of stone lend themselves to building.", vi: "Nhi·ªÅu lo·∫°i ƒë√° c√≥ th·ªÉ ƒë∆∞·ª£c s·ª≠ d·ª•ng ƒë·ªÉ x√¢y d·ª±ng.", emoji: "üß±" },
            { en: "Learning is closely related to memory, which is the storage of information in the brain.", vi: "Vi·ªác h·ªçc c√≥ li√™n quan ch·∫∑t ch·∫Ω ƒë·∫øn tr√≠ nh·ªõ, l√† n∆°i l∆∞u tr·ªØ th√¥ng tin trong n√£o.", emoji: "üß†" },
            { en: "Monkey can't sing, can they?", vi: "Kh·ªâ kh√¥ng th·ªÉ h√°t, ph·∫£i kh√¥ng?", emoji: "üêí" },
            { en: "She was well wrapped up in a thick fur coat.", vi: "C√¥ ·∫•y ƒë∆∞·ª£c qu·∫•n ch·∫∑t trong m·ªôt chi·∫øc √°o kho√°c l√¥ng d√†y.", emoji: "üß•" },
            { en: "She went to a seaside resort because she was keen on water-skiing very much.", vi: "C√¥ ·∫•y ƒë√£ ƒëi ƒë·∫øn m·ªôt khu ngh·ªâ m√°t ven bi·ªÉn v√¨ c√¥ ·∫•y r·∫•t th√≠ch l∆∞·ªõt v√°n n∆∞·ªõc.", emoji: "üèÑ" },
            { en: "Pagodas are sacred places, so keep quiet when visiting.", vi: "Ch√πa l√† n∆°i linh thi√™ng, v√¨ v·∫≠y h√£y gi·ªØ im l·∫∑ng khi ƒë·∫øn thƒÉm.", emoji: "üôè" },
            { en: "They are going to share their vision of the future with the US.", vi: "H·ªç s·∫Ω chia s·∫ª t·∫ßm nh√¨n v·ªÅ t∆∞∆°ng lai c·ªßa h·ªç v·ªõi M·ªπ.", emoji: "üá∫üá∏" },
            { en: "We may win, we may lose - it's just the luck of the draw!", vi: "Ch√∫ng ta c√≥ th·ªÉ th·∫Øng, ch√∫ng ta c√≥ th·ªÉ thua - ƒë√≥ ch·ªâ l√† s·ª± may r·ªßi!", emoji: "üé≤" },
            { en: "Mr. Ba has some good advice for anyone who wants to learn a second language.", vi: "√îng Ba c√≥ m·ªôt s·ªë l·ªùi khuy√™n t·ªët cho b·∫•t k·ª≥ ai mu·ªën h·ªçc ng√¥n ng·ªØ th·ª© hai.", emoji: "üí¨" },
            { en: "If you prefer to work offline, download the test paper and blank answer sheet.", vi: "N·∫øu b·∫°n th√≠ch l√†m vi·ªác ngo·∫°i tuy·∫øn, h√£y t·∫£i xu·ªëng ƒë·ªÅ thi v√† phi·∫øu tr·∫£ l·ªùi tr·ªëng.", emoji: "üìÑ" },
            { en: "Medicine is very different from how it was in the past.", vi: "Y h·ªçc r·∫•t kh√°c so v·ªõi tr∆∞·ªõc ƒë√¢y.", emoji: "üè•" },
            { en: "Many strange animal behaviors on which the scientists usually base to study can help them to predict future natural disasters.", vi: "Nhi·ªÅu h√†nh vi k·ª≥ l·∫° c·ªßa ƒë·ªông v·∫≠t m√† c√°c nh√† khoa h·ªçc th∆∞·ªùng d·ª±a v√†o ƒë·ªÉ nghi√™n c·ª©u c√≥ th·ªÉ gi√∫p h·ªç d·ª± ƒëo√°n c√°c th·∫£m h·ªça thi√™n nhi√™n trong t∆∞∆°ng lai.", emoji: "üêæ" },
            { en: "The past participle of \"slide\" is \"slid.\"", vi: "Ph√¢n t·ª´ qu√° kh·ª© c·ªßa \"slide\" l√† \"slid.\"", emoji: "üìñ" },
            { en: "No more than 1,000 visitors will be allowed in the botanical grounds at one time.", vi: "Kh√¥ng qu√° 1.000 du kh√°ch s·∫Ω ƒë∆∞·ª£c ph√©p v√†o khu v·ª±c v∆∞·ªùn b√°ch th·∫£o t·∫°i m·ªôt th·ªùi ƒëi·ªÉm.", emoji: "üå∫" },
            { en: "A healthy diet should supply all necessary vitamins and minerals.", vi: "M·ªôt ch·∫ø ƒë·ªô ƒÉn u·ªëng l√†nh m·∫°nh n√™n cung c·∫•p t·∫•t c·∫£ c√°c vitamin v√† kho√°ng ch·∫•t c·∫ßn thi·∫øt.", emoji: "üçé" },
            { en: "Mr. Brown is looking for his glasses. He thinks he left them behind in the office yesterday.", vi: "√îng Brown ƒëang t√¨m k√≠nh c·ªßa m√¨nh. √îng ·∫•y nghƒ© r·∫±ng √¥ng ·∫•y ƒë√£ ƒë·ªÉ qu√™n ch√∫ng ·ªü vƒÉn ph√≤ng h√¥m qua.", emoji: "üëì" },
            { en: "Don't let him get under your skin.", vi: "ƒê·ª´ng ƒë·ªÉ anh ·∫•y l√†m b·∫°n kh√≥ ch·ªãu.", emoji: "üò†" },
            { en: "The arrival of Flight 382 from Moscow has been delayed by one hour.", vi: "Chuy·∫øn bay 382 t·ª´ Moscow ƒë√£ b·ªã ho√£n m·ªôt gi·ªù.", emoji: "‚úàÔ∏è" },
            { en: "People are advised to use gas for cooking so as to save forests.", vi: "M·ªçi ng∆∞·ªùi ƒë∆∞·ª£c khuy√™n n√™n s·ª≠ d·ª•ng gas ƒë·ªÉ n·∫•u ƒÉn nh·∫±m ti·∫øt ki·ªám r·ª´ng.", emoji: "üî•" },
            { en: "I borrowed the dictionary from Nga in order to look up some new words.", vi: "T√¥i m∆∞·ª£n t·ª´ ƒëi·ªÉn c·ªßa Nga ƒë·ªÉ tra c·ª©u m·ªôt s·ªë t·ª´ m·ªõi.", emoji: "üìö" },
            { en: "It is important that every student be aware of the negative impacts of smoking.", vi: "ƒêi·ªÅu quan tr·ªçng l√† m·ªçi h·ªçc sinh ph·∫£i nh·∫≠n th·ª©c ƒë∆∞·ª£c nh·ªØng t√°c ƒë·ªông ti√™u c·ª±c c·ªßa vi·ªác h√∫t thu·ªëc.", emoji: "üö≠" },
            { en: "Zoos are very serious about their image nowadays.", vi: "Ng√†y nay c√°c v∆∞·ªùn th√∫ r·∫•t nghi√™m t√∫c v·ªÅ h√¨nh ·∫£nh c·ªßa h·ªç.", emoji: "ü¶Å" },
            { en: "Her anxiety was so great that she couldn't drive her car.", vi: "S·ª± lo l·∫Øng c·ªßa c√¥ ·∫•y l·ªõn ƒë·∫øn n·ªói c√¥ ·∫•y kh√¥ng th·ªÉ l√°i xe.", emoji: "üòü" },
            { en: "Coffee shops will always be popular among retired people.", vi: "C√°c qu√°n c√† ph√™ s·∫Ω lu√¥n ph·ªï bi·∫øn v·ªõi nh·ªØng ng∆∞·ªùi ƒë√£ ngh·ªâ h∆∞u.", emoji: "‚òï" },
            { en: "Pilots and observers fussed around their equipment, trying on oxygen masks.", vi: "C√°c phi c√¥ng v√† quan s√°t vi√™n lo l·∫Øng xung quanh thi·∫øt b·ªã c·ªßa h·ªç, th·ª≠ m·∫∑t n·∫° oxy.", emoji: "üë®‚Äç‚úàÔ∏è" },
            { en: "Mrs. Howard is the breadwinner of the family as she earns most of the income.", vi: "B√† Howard l√† tr·ª• c·ªôt kinh t·∫ø c·ªßa gia ƒë√¨nh v√¨ b√† ki·∫øm ƒë∆∞·ª£c ph·∫ßn l·ªõn thu nh·∫≠p.", emoji: "üí∏" },
            { en: "We chat about our work, our children and our plans for the next crop.", vi: "Ch√∫ng t√¥i tr√≤ chuy·ªán v·ªÅ c√¥ng vi·ªác, con c√°i v√† k·∫ø ho·∫°ch cho v·ª• m√πa ti·∫øp theo.", emoji: "üí¨" },
            { en: "Although Richard is competent in his work, he does not know how to deal with this client.", vi: "M·∫∑c d√π Richard c√≥ nƒÉng l·ª±c trong c√¥ng vi·ªác, nh∆∞ng anh ·∫•y kh√¥ng bi·∫øt c√°ch ƒë·ªëi ph√≥ v·ªõi kh√°ch h√†ng n√†y.", emoji: "üëî" },
            { en: "The slave trade, missionaries exploration and colonisation contributed to the spread of English around the world.", vi: "Bu√¥n b√°n n√¥ l·ªá, th√°m hi·ªÉm c·ªßa c√°c nh√† truy·ªÅn gi√°o v√† thu·ªôc ƒë·ªãa h√≥a ƒë√£ g√≥p ph·∫ßn v√†o s·ª± lan r·ªông c·ªßa ti·∫øng Anh tr√™n to√†n th·∫ø gi·ªõi.", emoji: "üåê" },
            { en: "In 1954, the woman said that she saw two aliens in the spacecraft.", vi: "NƒÉm 1954, ng∆∞·ªùi ph·ª• n·ªØ n√≥i r·∫±ng c√¥ ·∫•y ƒë√£ th·∫•y hai ng∆∞·ªùi ngo√†i h√†nh tinh trong t√†u v≈© tr·ª•.", emoji: "üëΩ" },
            { en: "Timor Leste is one of the countries of the Association of South East Asian Nations.", vi: "Timor Leste l√† m·ªôt trong nh·ªØng qu·ªëc gia c·ªßa Hi·ªáp h·ªôi c√°c qu·ªëc gia ƒê√¥ng Nam √Å.", emoji: "üåè" },
            { en: "In spite of his age, he works as hard as he used to.", vi: "M·∫∑c d√π tu·ªïi ƒë√£ cao, anh ·∫•y v·∫´n l√†m vi·ªác chƒÉm ch·ªâ nh∆∞ tr∆∞·ªõc.", emoji: "üí™" },
            { en: "Peter suggested going to the mountain to relax.", vi: "Peter ƒë·ªÅ ngh·ªã ƒëi l√™n n√∫i ƒë·ªÉ th∆∞ gi√£n.", emoji: "‚õ∞Ô∏è" },
            { en: "We need a useful device for checking electrical circuits.", vi: "Ch√∫ng t√¥i c·∫ßn m·ªôt thi·∫øt b·ªã h·ªØu √≠ch ƒë·ªÉ ki·ªÉm tra m·∫°ch ƒëi·ªán.", emoji: "üîå" },
            { en: "I didn't realize she was a foreigner. Her command of English is very good.", vi: "T√¥i kh√¥ng nh·∫≠n ra c√¥ ·∫•y l√† ng∆∞·ªùi n∆∞·ªõc ngo√†i. Kh·∫£ nƒÉng ti·∫øng Anh c·ªßa c√¥ ·∫•y r·∫•t t·ªët.", emoji: "üó£Ô∏è" },
            { en: "Their most common uses are in spray cans and cooling systems.", vi: "C√¥ng d·ª•ng ph·ªï bi·∫øn nh·∫•t c·ªßa ch√∫ng l√† trong b√¨nh x·ªãt v√† h·ªá th·ªëng l√†m m√°t.", emoji: "‚ùÑÔ∏è" },
            { en: "The more a car costs, the faster it goes.", vi: "M·ªôt chi·∫øc xe c√†ng ƒë·∫Øt ti·ªÅn th√¨ n√≥ c√†ng ch·∫°y nhanh.", emoji: "üèéÔ∏è" },
            { en: "Space travel is practical for it can help us foresee the weather.", vi: "Du h√†nh v≈© tr·ª• l√† th·ª±c t·∫ø v√¨ n√≥ c√≥ th·ªÉ gi√∫p ch√∫ng ta d·ª± ƒëo√°n th·ªùi ti·∫øt.", emoji: "üõ∞Ô∏è" },
            { en: "New laws should be introduced to reduce the amount of traffic in the city centre.", vi: "C√°c lu·∫≠t m·ªõi n√™n ƒë∆∞·ª£c ban h√†nh ƒë·ªÉ gi·∫£m l∆∞·ª£ng giao th√¥ng ·ªü trung t√¢m th√†nh ph·ªë.", emoji: "üö¶" },
            { en: "Life in the countryside is quieter and more peaceful than city life.", vi: "Cu·ªôc s·ªëng ·ªü n√¥ng th√¥n y√™n tƒ©nh v√† b√¨nh y√™n h∆°n cu·ªôc s·ªëng th√†nh ph·ªë.", emoji: "üèûÔ∏è" },
            { en: "Heat from the body stays in the wool or fur and keeps people warm.", vi: "Nhi·ªát t·ª´ c∆° th·ªÉ gi·ªØ l·∫°i trong len ho·∫∑c l√¥ng v√† gi·ªØ ·∫•m cho m·ªçi ng∆∞·ªùi.", emoji: "üî•" },
            { en: "When a sequence of still pictures were set in motion, they could give the feeling of movement.", vi: "Khi m·ªôt chu·ªói c√°c b·ª©c ·∫£nh tƒ©nh ƒë∆∞·ª£c ƒë·∫∑t v√†o chuy·ªÉn ƒë·ªông, ch√∫ng c√≥ th·ªÉ mang l·∫°i c·∫£m gi√°c chuy·ªÉn ƒë·ªông.", emoji: "üé•" },
            { en: "I'm very much looking forward to the holiday.", vi: "T√¥i r·∫•t mong ch·ªù k·ª≥ ngh·ªâ.", emoji: "üéâ" },
            { en: "We have known each other since we were children.", vi: "Ch√∫ng t√¥i ƒë√£ bi·∫øt nhau t·ª´ khi c√≤n nh·ªè.", emoji: "üë∂" },
            { en: "A holiday in America can be surprisingly cheap.", vi: "M·ªôt k·ª≥ ngh·ªâ ·ªü M·ªπ c√≥ th·ªÉ r·∫ª m·ªôt c√°ch ƒë√°ng ng·∫°c nhi√™n.", emoji: "üá∫üá∏" },
            { en: "The Minister was shouted down by protestors who were angry at the government's proposals.", vi: "B·ªô tr∆∞·ªüng b·ªã la √≥ b·ªüi nh·ªØng ng∆∞·ªùi bi·ªÉu t√¨nh ƒëang t·ª©c gi·∫≠n tr∆∞·ªõc c√°c ƒë·ªÅ xu·∫•t c·ªßa ch√≠nh ph·ªß.", emoji: "üò†" },
            { en: "They have just come back from the village where they were born.", vi: "H·ªç v·ª´a tr·ªü v·ªÅ t·ª´ ng√¥i l√†ng n∆°i h·ªç ƒë∆∞·ª£c sinh ra.", emoji: "üè°" },
            { en: "The Mekong Delta has seen a total of 33,000 hectares of rice fields damaged and nearly 70,000 households suffer from lack of water.", vi: "ƒê·ªìng b·∫±ng s√¥ng C·ª≠u Long ƒë√£ ch·ª©ng ki·∫øn t·ªïng c·ªông 33.000 ha ru·ªông l√∫a b·ªã h∆∞ h·∫°i v√† g·∫ßn 70.000 h·ªô gia ƒë√¨nh b·ªã thi·∫øu n∆∞·ªõc.", emoji: "üòî" },
            { en: "John should go to Nha Rong Harbor because it is the place where President Ho Chi Minh left Vietnam in 1911.", vi: "John n√™n ƒë·∫øn B·∫øn Nh√† R·ªìng v√¨ ƒë√≥ l√† n∆°i Ch·ªß t·ªãch H·ªì Ch√≠ Minh r·ªùi Vi·ªát Nam v√†o nƒÉm 1911.", emoji: "üáªüá≥" },
            { en: "I didn't sleep very well that night and got a terrible headache the following morning.", vi: "T·ªëi h√¥m ƒë√≥ t√¥i ng·ªß kh√¥ng ngon v√† b·ªã ƒëau ƒë·∫ßu kinh kh·ªßng v√†o s√°ng h√¥m sau.", emoji: "ü§ï" },
            { en: "He was very upset by the result of his English examination.", vi: "Anh ·∫•y r·∫•t bu·ªìn b√£ v√¨ k·∫øt qu·∫£ k·ª≥ thi ti·∫øng Anh c·ªßa m√¨nh.", emoji: "üò•" },
            { en: "I feel cold. Could you switch off the electric heater?", vi: "T√¥i c·∫£m th·∫•y l·∫°nh. B·∫°n c√≥ th·ªÉ t·∫Øt m√°y s∆∞·ªüi ƒëi·ªán kh√¥ng?", emoji: "ü•∂" },
            { en: "To build their nests, tailorbirds use their bills as needles.", vi: "ƒê·ªÉ x√¢y t·ªï, chim ch√≠ch b√¥ng s·ª≠ d·ª•ng m·ªè c·ªßa ch√∫ng nh∆∞ kim kh√¢u.", emoji: "üê¶" },
            { en: "The house where Shakespeare was born is open to the public.", vi: "Ng√¥i nh√† n∆°i Shakespeare sinh ra m·ªü c·ª≠a cho c√¥ng ch√∫ng.", emoji: "üè†" },
            { en: "The correct reply to \"Do you want this one or that one?\" is \"I don't mind. You choose.\"", vi: "C√¢u tr·∫£ l·ªùi ƒë√∫ng cho \"B·∫°n mu·ªën c√°i n√†y hay c√°i kia?\" l√† \"T√¥i kh√¥ng b·∫≠n t√¢m. B·∫°n ch·ªçn ƒëi.\"", emoji: "‚ùì" },
            { en: "As we discover during power cuts, there is a lot to be said for the oil lamp, the coal fire, and forms of entertainment, such as books or board games, which don't have to be plugged in to work.", vi: "Nh∆∞ ch√∫ng ta kh√°m ph√° trong th·ªùi gian m·∫•t ƒëi·ªán, c√≥ nhi·ªÅu ƒëi·ªÅu ƒë·ªÉ n√≥i v·ªÅ ƒë√®n d·∫ßu, l√≤ than, v√† c√°c h√¨nh th·ª©c gi·∫£i tr√≠, ch·∫≥ng h·∫°n nh∆∞ s√°ch ho·∫∑c tr√≤ ch∆°i c·ªù b√†n, m√† kh√¥ng c·∫ßn ph·∫£i c·∫Øm ƒëi·ªán ƒë·ªÉ ho·∫°t ƒë·ªông.", emoji: "üí°" },
            { en: "She profited from his vast experiences.", vi: "C√¥ ·∫•y ƒë√£ ƒë∆∞·ª£c h∆∞·ªüng l·ª£i t·ª´ nh·ªØng kinh nghi·ªám phong ph√∫ c·ªßa anh ·∫•y.", emoji: "üíº" },
            { en: "I cannot help feeling anxious about the exam results.", vi: "T√¥i kh√¥ng th·ªÉ kh√¥ng c·∫£m th·∫•y lo l·∫Øng v·ªÅ k·∫øt qu·∫£ k·ª≥ thi.", emoji: "üòü" },
            { en: "The building where he lives is very old.", vi: "T√≤a nh√† n∆°i anh ·∫•y s·ªëng r·∫•t c≈©.", emoji: "üè¢" },
            { en: "We have to suffer flood and hot weather because of uncontrollable forest destruction.", vi: "Ch√∫ng ta ph·∫£i ch·ªãu ƒë·ª±ng l≈© l·ª•t v√† th·ªùi ti·∫øt n√≥ng b·ª©c v√¨ s·ª± ph√° h·ªßy r·ª´ng kh√¥ng ki·ªÉm so√°t ƒë∆∞·ª£c.", emoji: " deforestation" },
            { en: "War veterans were paraded through the streets to commemorate the victory.", vi: "C√°c c·ª±u chi·∫øn binh ƒë√£ di·ªÖu h√†nh qua c√°c ƒë∆∞·ªùng ph·ªë ƒë·ªÉ k·ª∑ ni·ªám chi·∫øn th·∫Øng.", emoji: "üèÖ" },
            { en: "Only at the weekend do I take my kid to the Water Park.", vi: "Ch·ªâ v√†o cu·ªëi tu·∫ßn t√¥i m·ªõi ƒë∆∞a con ƒë·∫øn C√¥ng vi√™n N∆∞·ªõc.", emoji: "üåä" },
            { en: "During the war, we lost contact with many relatives.", vi: "Trong chi·∫øn tranh, ch√∫ng t√¥i ƒë√£ m·∫•t li√™n l·∫°c v·ªõi nhi·ªÅu ng∆∞·ªùi th√¢n.", emoji: "üïäÔ∏è" },
            { en: "How many runners joined the Boston Marathon in 1984?", vi: "C√≥ bao nhi√™u v·∫≠n ƒë·ªông vi√™n tham gia Marathon Boston v√†o nƒÉm 1984?", emoji: "üèÉ" },
            { en: "The result is impossible to predict with any degree of certainty.", vi: "K·∫øt qu·∫£ l√† kh√¥ng th·ªÉ d·ª± ƒëo√°n v·ªõi b·∫•t k·ª≥ m·ª©c ƒë·ªô ch·∫Øc ch·∫Øn n√†o.", emoji: "üîÆ" },
            { en: "The new power station produces vast amounts of electricity.", vi: "Nh√† m√°y ƒëi·ªán m·ªõi s·∫£n xu·∫•t m·ªôt l∆∞·ª£ng l·ªõn ƒëi·ªán nƒÉng.", emoji: "‚ö°" },
            { en: "Clarke comes from a city which is located in the northern part of Germany.", vi: "Clarke ƒë·∫øn t·ª´ m·ªôt th√†nh ph·ªë n·∫±m ·ªü ph√≠a b·∫Øc n∆∞·ªõc ƒê·ª©c.", emoji: "üá©üá™" },
            { en: "If I became rich, I would travel around the world.", vi: "N·∫øu t√¥i tr·ªü n√™n gi√†u c√≥, t√¥i s·∫Ω ƒëi du l·ªãch kh·∫Øp th·∫ø gi·ªõi.", emoji: "üåç" },
            { en: "The teacher encouraged me to join the football team.", vi: "Gi√°o vi√™n ƒë√£ khuy·∫øn kh√≠ch t√¥i tham gia ƒë·ªôi b√≥ng ƒë√°.", emoji: "‚öΩ" }
        ]
    };
    const elements = {        startScreen: document.getElementById('startScreen'),        gameScreen: document.getElementById('gameScreen'),        topicSelectionScreen: document.getElementById('topicSelectionScreen'),        topicCongratsScreen: document.getElementById('topicCongratsScreen'),        meaning: document.getElementById('meaning'),        message: document.getElementById('message'),        listenAgainBtn: document.getElementById('listenAgainBtn'),        resetBtn: document.getElementById('resetBtn'),        startBtn: document.getElementById('startBtn'),        playTopicAgainBtn: document.getElementById('playTopicAgainBtn'),        chooseAnotherTopicBtn: document.getElementById('chooseAnotherTopicBtn'),        score: document.getElementById('score'),        canvas: document.getElementById('fireworks'),        playerNameInput: document.getElementById('playerNameInput'),        congratsMessage: document.getElementById('congratsMessage'),        gameSubtitle: document.getElementById('gameSubtitle'),        answerInput: document.getElementById('answerInput'),        checkBtn: document.getElementById('checkBtn'),        hintBtn: document.getElementById('hintBtn'),        hint: document.getElementById('hint'),    };
    let state = {};
    let currentListenCount = 0; // Bi·∫øn ƒë·∫øm s·ªë l·∫ßn nghe
    const MAX_AUTO_LISTEN = 2; // S·ªë l·∫ßn t·ª± ƒë·ªông ƒë·ªçc khi b·∫Øt ƒë·∫ßu c√¢u m·ªõi
    const isSpeechSupported = 'speechSynthesis' in window && 'SpeechSynthesisUtterance' in window;
    
    function initializeState() {        state = {            playerName: state.playerName || '',            currentTopic: null,            currentSentences: [],            originalSentence: '',            score: 0,            completedSentences: 0,            correctlyAnsweredCount: 0,            currentSentenceIndex: 0,            isSpeaking: false,            animationFrameId: null,            speechTimeoutId: null,            audioIntervalId: null,
            mistakeCount: 0,
            nextSentenceTimeoutId: null
        };
        currentListenCount = 0; // Reset count
    }
    
    function initializeSpeech() {        if (isSpeechSupported && speechSynthesis.getVoices().length === 0) {            speechSynthesis.onvoiceschanged = () => console.log("Voices loaded.");        }    }
    
    function speak(text, options = {}) {        const callback = typeof options === 'function' ? options : options.callback;
        const rate = options.rate || 1.0;
        
        if (!isSpeechSupported) { if (callback) callback(); return; }                
        
        // Stop any currently playing speech
        if (speechSynthesis.speaking) {            speechSynthesis.cancel();        }
        
        state.isSpeaking = true;
        const utterance = new SpeechSynthesisUtterance(text);
        utterance.lang = 'en-US';
        utterance.rate = rate;
        
        utterance.onend = () => {            state.isSpeaking = false;
            state.speechTimeoutId = null;
            if (callback) callback();
        };
        
        utterance.onerror = (event) => {            if (event.error !== 'interrupted') console.error('SpeechSynthesis Error:', event.error);
            state.isSpeaking = false;
            state.speechTimeoutId = null;
            if (callback) callback();
        };
        
        state.speechTimeoutId = setTimeout(() => {            speechSynthesis.speak(utterance);
        }, 100);
    }
    
    function updateScoreDisplay() {        elements.score.textContent = `ƒêi·ªÉm: ${state.score} | Ho√†n th√†nh: ${state.completedSentences}/${state.currentSentences.length}`;    }
    
    // Logic m·ªõi: T·ª± ƒë·ªông ƒë·ªçc 2 l·∫ßn khi b·∫Øt ƒë·∫ßu c√¢u, sau ƒë√≥ chuy·ªÉn sang l·∫∑p l·∫°i b·∫±ng n√∫t "Nghe l·∫°i"
    function startAudioLoop() {        
        stopAudioLoop();
        currentListenCount = 0;
        
        const listenNext = () => {
            if (currentListenCount < MAX_AUTO_LISTEN) {
                currentListenCount++;
                speak(state.originalSentence, {
                    rate: 0.9,
                    callback: () => {
                        // ƒê·ª£i 1 gi√¢y gi·ªØa c√°c l·∫ßn ƒë·ªçc t·ª± ƒë·ªông
                        if (currentListenCount < MAX_AUTO_LISTEN) {
                            state.audioIntervalId = setTimeout(listenNext, 1000);
                        }
                    }
                });
            }
        };
        
        listenNext();
    }
    
    function stopAudioLoop(cancelSpeech = true) {        
        if (state.audioIntervalId) clearTimeout(state.audioIntervalId);
        if (state.speechTimeoutId) clearTimeout(state.speechTimeoutId);
        if (state.nextSentenceTimeoutId) clearTimeout(state.nextSentenceTimeoutId);
        state.audioIntervalId = null;
        state.speechTimeoutId = null;
        state.nextSentenceTimeoutId = null;
        if (cancelSpeech && isSpeechSupported && speechSynthesis.speaking) {            speechSynthesis.cancel();
        }    
    }
    
    function startNewSentence() {        if (state.completedSentences >= state.currentSentences.length) {            showTopicCongratulations();
            return;
        }        
        const currentData = state.currentSentences[state.currentSentenceIndex];        
        state.originalSentence = currentData.en;        
        state.mistakeCount = 0;
        
        elements.meaning.innerHTML = `<span>&ldquo;${currentData.vi}&rdquo;</span><span>${currentData.emoji}</span>`;        
        elements.message.textContent = '';        
        elements.message.style.color = 'var(--error-color)';                
        
        const input = elements.answerInput;        
        input.value = '';        
        input.disabled = false;
        input.classList.remove('correct', 'incorrect');
        input.focus();                
        
        elements.checkBtn.disabled = false;
        elements.listenAgainBtn.disabled = false;
        elements.hintBtn.disabled = false;                
        
        updateScoreDisplay();
        startAudioLoop(); // B·∫Øt ƒë·∫ßu ƒë·ªçc t·ª± ƒë·ªông 2 l·∫ßn
    }
    
    function handleCheckAnswer() {        if(elements.checkBtn.disabled) return;
        
        const userAnswer = elements.answerInput.value.trim();
        const correctAnswer = state.originalSentence;
        
        if (userAnswer === correctAnswer) {            
            elements.answerInput.classList.remove('incorrect');
            elements.answerInput.classList.add('correct');
            elements.answerInput.disabled = true;
            elements.checkBtn.disabled = true;
            elements.hintBtn.disabled = true;
            stopAudioLoop(true); // D·ª´ng ho√†n to√†n vi·ªác ƒë·ªçc
            
            if (state.mistakeCount < 3) {                
                state.score += 10;
                state.correctlyAnsweredCount++;
                elements.message.textContent = 'Ch√≠nh x√°c! +10 ƒëi·ªÉm.';
                elements.message.style.color = 'var(--success-color)';
            }                        
            
            state.completedSentences++;
            state.currentSentenceIndex++;
            updateScoreDisplay();                        
            
            // Y√™u c·∫ßu m·ªõi: ƒê·ªçc l·∫°i c√¢u ƒë√∫ng m·ªôt l·∫ßn n·ªØa sau khi ho√†n th√†nh
            speak(correctAnswer, () => {
                state.nextSentenceTimeoutId = setTimeout(startNewSentence, 2000);
            });
        } else {            
            state.mistakeCount++;
            elements.answerInput.classList.add('incorrect');
            setTimeout(() => {
                elements.answerInput.classList.remove('incorrect');
            }, 500);
            
            if (state.mistakeCount >= 3) {                
                elements.answerInput.disabled = true;
                elements.checkBtn.disabled = true;
                elements.hintBtn.disabled = true;
                stopAudioLoop(true);
                
                elements.message.textContent = `B·∫°n ƒë√£ sai 3 l·∫ßn. ƒê√°p √°n ƒë√∫ng: "${correctAnswer}"`;                                
                state.completedSentences++;
                state.currentSentenceIndex++;
                updateScoreDisplay();
                
                state.nextSentenceTimeoutId = setTimeout(startNewSentence, 3500);
            } else {                
                elements.message.textContent = `Sai r·ªìi! (S·ªë l·∫ßn sai: ${state.mistakeCount}/3)`;
            }
        }    
    }
    
    function showTopicCongratulations() {        elements.gameScreen.style.display = 'none';
        elements.topicCongratsScreen.style.display = 'flex';
        elements.congratsMessage.innerHTML = `Ch√∫c m·ª´ng <strong>${state.playerName}</strong>!<br>B·∫°n ƒë√£ ƒë·∫°t ${state.score} ƒëi·ªÉm, ho√†n th√†nh ƒë√∫ng ${state.correctlyAnsweredCount}/${state.currentSentences.length} c√¢u trong ch·ªß ƒë·ªÅ "${state.currentTopic}".`;
        startFireworks();
    }
    
    function showTopicSelection() {        stopAudioLoop(true);
        stopFireworks();
        elements.gameScreen.style.display = 'none';
        elements.topicCongratsScreen.style.display = 'none';
        // ƒê·∫£m b·∫£o m√†n h√¨nh b·∫Øt ƒë·∫ßu c≈©ng ·∫©n n·∫øu ch·ªçn ch·ªß ƒë·ªÅ m·ªõi
        elements.startScreen.style.display = 'none'; 
        elements.topicSelectionScreen.style.display = 'flex';
        elements.gameSubtitle.textContent = "(Dictation Practice)";
    }
    
    function startGame(topic) {        initializeState();
        state.currentTopic = topic;
        // Tr·ªôn ng·∫´u nhi√™n danh s√°ch c√¢u tr∆∞·ªõc khi ch∆°i
        const shuffledSentences = [...topics[topic]].sort(() => Math.random() - 0.5);
        state.currentSentences = shuffledSentences; 
        
        elements.gameSubtitle.textContent = `Ch·ªß ƒë·ªÅ: ${topic}`;
        elements.topicSelectionScreen.style.display = 'none';
        elements.gameScreen.style.display = 'block';
        startNewSentence();
    }
    
    function createTopicButtons() {        const topicContainer = elements.topicSelectionScreen;
        topicContainer.innerHTML = ''; // Clear existing buttons
        let colorIndex = 1;
        for (const topic in topics) {
            const button = document.createElement('button');
            button.className = `topic-btn topic-btn-color-${colorIndex}`;
            button.textContent = topic;
            button.onclick = () => startGame(topic);
            topicContainer.appendChild(button);
            colorIndex = (colorIndex % 5) + 1;
        }    
    }
    
    function setupEventListeners() {        
        elements.startBtn.addEventListener('click', () => {            
            const playerName = elements.playerNameInput.value.trim();
            if (playerName) {                
                state.playerName = playerName;
                elements.startScreen.style.display = 'none';
                elements.topicSelectionScreen.style.display = 'flex';
                // X√≥a th√¥ng b√°o l·ªói c≈© n·∫øu c√≥
                elements.message.textContent = '';
            } else {
                // Thay th·∫ø alert b·∫±ng UI message box
                elements.message.textContent = "Vui l√≤ng nh·∫≠p t√™n c·ªßa b·∫°n!";
                elements.message.style.color = 'var(--error-color)';
                elements.playerNameInput.focus();
                setTimeout(() => { elements.message.textContent = ''; }, 3000);
            }        
        });
        
        elements.listenAgainBtn.addEventListener('click', () => {            
            if (!state.isSpeaking) {
                // Ch·ªâ c·∫ßn g·ªçi speak, v√¨ h√†m n√†y s·∫Ω d·ª´ng m·ªçi l·ªùi n√≥i kh√°c (h√†m l·∫∑p ƒë√£ b·ªã stopAudioLoop lo·∫°i b·ªè)
                speak(state.originalSentence);
            }
        });                
        
        elements.resetBtn.addEventListener('click', showTopicSelection);
        
        elements.playTopicAgainBtn.addEventListener('click', () => {            
            stopFireworks();
            elements.topicCongratsScreen.style.display = 'none';
            startGame(state.currentTopic);
        });                
        
        elements.chooseAnotherTopicBtn.addEventListener('click', showTopicSelection);
        
        // Listeners for Dictation Game
        elements.checkBtn.addEventListener('click', handleCheckAnswer);
        elements.answerInput.addEventListener('keydown', (e) => {            
            if (e.key === 'Enter' && !elements.checkBtn.disabled) {
                handleCheckAnswer();
            }
        });
        
        const showHint = () => {            
            elements.hint.textContent = state.originalSentence;
            elements.hint.style.display = 'block';
        };        
        const hideHint = () => {            
            elements.hint.style.display = 'none';
        };
        
        elements.hintBtn.addEventListener('mousedown', showHint);
        elements.hintBtn.addEventListener('mouseup', hideHint);
        elements.hintBtn.addEventListener('mouseleave', hideHint);
        elements.hintBtn.addEventListener('touchstart', (e) => { e.preventDefault(); showHint(); });
        elements.hintBtn.addEventListener('touchend', hideHint);    
    }        
    
    // --- Fireworks Animation ---    
    let fireworksRunning = false;
    let fireworks = []; 
    let particles = [];
    let hue = 120; 

    function Firework(sx, sy, tx, ty) {
        this.x = sx; this.y = sy; this.sx = sx; this.sy = sy;
        this.tx = tx; this.ty = ty;
        const angle = Math.atan2(ty - sy, tx - sx); this.speed = 2;
        this.vx = Math.cos(angle) * this.speed; this.vy = Math.sin(angle) * this.speed;
        this.hue = hue;
    }
    
    function Particle(x, y, hue) {
        this.x = x; this.y = y; this.angle = random(0, Math.PI * 2);
        this.speed = random(1, 5);
        this.vx = Math.cos(this.angle) * this.speed;
        this.vy = Math.sin(this.angle) * this.speed;
        this.hue = hue; this.alpha = 1;
    }

    function random(min, max) { return Math.random() * (max - min) + min; }
    function createParticles(x, y, hue) { 
        for (let i = 0; i < 30; i++) {
             particles.push(new Particle(x, y, hue)); 
        }
    }

    Firework.prototype.update = function(index) {
        const ctx = elements.canvas.getContext('2d');
        this.x += this.vx; this.y += this.vy;
        if (Math.sqrt(Math.pow(this.tx - this.x, 2) + Math.pow(this.ty - this.y, 2)) <= this.speed) {
            const currentHue = this.hue;
            createParticles(this.tx, this.ty, currentHue);
            fireworks.splice(index, 1);
        }
    };        
    Firework.prototype.draw = function() {             
        const ctx = elements.canvas.getContext('2d');
        ctx.beginPath(); ctx.moveTo(this.x, this.y);             
        ctx.lineTo(this.x - this.vx * 3, this.y - this.vy * 3);             
        ctx.strokeStyle = `hsl(${this.hue}, 100%, 50%)`; ctx.stroke();
    };        
    Particle.prototype.update = function(index) {
        this.x += this.vx; this.y += this.vy; this.alpha -= 0.01;            
        if (this.alpha <= 0) particles.splice(index, 1);
    };        
    Particle.prototype.draw = function(ctx) {
        ctx.save(); ctx.globalAlpha = this.alpha;
        ctx.beginPath(); ctx.arc(this.x, this.y, 1.5, 0, Math.PI * 2, false);
        ctx.fillStyle = `hsl(${this.hue}, 100%, 50%)`; ctx.fill();
        ctx.restore();
    };        

    function startFireworks() {        
        if (fireworksRunning) return;
        fireworksRunning = true;
        const ctx = elements.canvas.getContext('2d');
        
        fireworks = [];
        particles = [];
        hue = 120;
        
        function setCanvasSize() {            
            elements.canvas.width = window.innerWidth;
            elements.canvas.height = window.innerHeight;
        }
        
        setCanvasSize();
        window.addEventListener('resize', setCanvasSize);
        
        function loop() {            
            if (!fireworksRunning) {                
                ctx.clearRect(0, 0, elements.canvas.width, elements.canvas.height);
                return;
            }            
            requestAnimationFrame(loop);
            hue += 0.5;
            ctx.globalCompositeOperation = 'destination-out';
            ctx.fillStyle = 'rgba(0, 0, 0, 0.5)';
            ctx.fillRect(0, 0, elements.canvas.width, elements.canvas.height);
            ctx.globalCompositeOperation = 'lighter';
            
            if (Math.random() < 0.05) {                
                fireworks.push(new Firework(random(0, elements.canvas.width), elements.canvas.height, random(0, elements.canvas.width), random(0, elements.canvas.height / 2)));
            }            
            for (let i = fireworks.length - 1; i >= 0; i--) { fireworks[i].update(i); fireworks[i].draw(); }
            for (let i = particles.length - 1; i >= 0; i--) { particles[i].update(i); particles[i].draw(ctx); }
        }
        
        loop();
    }

    function stopFireworks() {        
        fireworksRunning = false;
    }
    
    // --- Initial Load ---    
    window.onload = () => {        
        initializeState();
        initializeSpeech();
        createTopicButtons();
        setupEventListeners();
    };    
    </script></body></html>
